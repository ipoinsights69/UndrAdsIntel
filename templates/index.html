{% extends "layout.html" %}

{% block title %}Dashboard - UndrApp Intel Scraper{% endblock %}

{% block content %}
<div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-800">Dashboard</h1>
    <p class="text-gray-600">Welcome to the UndrApp Intel Scraper</p>
</div>

<!-- Stats Cards -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="card bg-gradient-to-br from-primary-500 to-primary-700 text-white">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-white bg-opacity-30 mr-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z" />
                </svg>
            </div>
            <div>
                <h2 class="text-lg font-semibold">Total Apps</h2>
                <p class="text-3xl font-bold">{{ stats.total_apps }}</p>
            </div>
        </div>
    </div>
    
    <div class="card bg-gradient-to-br from-blue-400 to-blue-600 text-white">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-white bg-opacity-30 mr-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                </svg>
            </div>
            <div>
                <h2 class="text-lg font-semibold">Developers</h2>
                <p class="text-3xl font-bold">{{ stats.total_developers }}</p>
            </div>
        </div>
    </div>
    
    <div class="card bg-gradient-to-br from-blue-500 to-indigo-600 text-white">
        <div class="flex items-center">
            <div class="p-3 rounded-full bg-white bg-opacity-30 mr-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                </svg>
            </div>
            <div>
                <h2 class="text-lg font-semibold">Recent Scrapes</h2>
                <p class="text-3xl font-bold">{{ stats.recent_scrapes }}</p>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="card mb-8">
    <h2 class="text-xl font-semibold text-gray-800 mb-4">Quick Actions</h2>
    <div class="flex flex-wrap gap-4">
        <a href="{{ url_for('upload') }}" class="btn-primary flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
            Upload & Scrape
        </a>
        <a href="{{ url_for('apps') }}" class="btn-primary flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path d="M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z" />
            </svg>
            View Apps
        </a>
        <a href="{{ url_for('export') }}" class="btn-primary flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            Export Data
        </a>
    </div>
</div>

<!-- Getting Started -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="card">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Getting Started</h2>
        <ol class="list-decimal list-inside space-y-2 text-gray-700">
            <li>Upload a CSV file with package names or enter them manually</li>
            <li>Start the scraping process</li>
            <li>View the scraped app data</li>
            <li>Export the data in your preferred format</li>
        </ol>
        <div class="mt-4">
            <a href="{{ url_for('upload') }}" class="text-primary-600 hover:text-primary-800 font-medium">Start Scraping â†’</a>
        </div>
    </div>
    
    <div class="card">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">About UndrApp Intel</h2>
        <p class="text-gray-700 mb-4">
            This dashboard allows you to scrape app data from UndrApp Intel by providing package names. 
            You can upload a CSV file containing package names or enter them manually.
        </p>
        <p class="text-gray-700">
            The scraped data includes app title, developer, rating, downloads, description, and more.
            You can view, search, and export the data in various formats.
        </p>
    </div>
</div>
{% endblock %}